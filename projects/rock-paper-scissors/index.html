<!DOCTYPE html>
<html>
  <head>
    <title>Rock Paper Scissors</title>
  </head>
  <body>
    <button onclick="result('rock')">Rock</button>
    <button onclick="result('paper')">Paper</button>
    <button onclick="result('scissor')">Scissor</button>
    <button onclick="resetScore()">Reset Score</button>
    <script>
      let overallResult = JSON.parse(localStorage.getItem('overallResult')) || {
        win: 0,
        lose: 0,
        draw: 0,
      };

      function result(userChoice) {
        const choice = computeChoice();
        let outcome = "";

        if (userChoice === "rock") {
          if (choice === "rock") {
            outcome = "draw";
          } else if (choice === "paper") {
            outcome = "lose";
          } else {
            outcome = "win";
          }
        } else if (userChoice === "paper") {
          if (choice === "rock") {
            outcome = "win";
          } else if (choice === "paper") {
            outcome = "draw";
          } else {
            outcome = "lose";
          }
        } else {
          if (choice === "rock") {
            outcome = "lose";
          } else if (choice === "paper") {
            outcome = "win";
          } else {
            outcome = "draw";
          }
        }

        if (outcome === "win") {
          overallResult.win++;
        } else if (outcome === "lose") {
          overallResult.lose++;
        } else {
          overallResult.draw++;
        }
        localStorage.setItem('overallResult',JSON.stringify(overallResult));
        alert(
          `Your move: ${userChoice} Computer move: ${choice}
Result: ${outcome}
Wins: ${overallResult.win} Draws: ${overallResult.draw} Losses: ${overallResult.lose}`
        );
      }

      function computeChoice() {
        const randomNo = Math.random();
        let choice = "";

        if (randomNo >= 0 && randomNo < 1 / 3) {
          choice = "rock";
        } else if (randomNo >= 1 / 3 && randomNo < 2 / 3) {
          choice = "paper";
        } else {
          choice = "scissor";
        }

        return choice;
      }

      function resetScore() {
        localStorage.removeItem('overallResult');
        overallResult = {
            win: 0,
            lose: 0,
            draw: 0,
        };
        alert("Score reset!");
      }

    </script>
  </body>
</html>
